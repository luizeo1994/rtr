<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Consulta de RetransmissÃ£o Naval</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light p-4">
    <div class="container text-center">
        <h2 class="mb-4">ğŸ“¡ Sistema de Consulta de RetransmissÃ£o Naval</h2>

        <form method="POST" class="mb-3 d-flex justify-content-center gap-2">
            <input type="text" name="indicativo" class="form-control w-50 text-center" placeholder="Digite o indicativo (ex: GPNSTE ou NPA)" required>
            <button class="btn btn-primary" type="submit">Consultar</button>
            <button class="btn btn-warning" name="reload" value="1" type="submit">ğŸ”„ Recarregar Planilha</button>
        </form>

        {% if resultados %} 
            {% for r in resultados %}
                {% if r.tipo == 'retransmissor' %}
                    <div class="alert alert-info">
                        <strong>{{ r.retransmissor }}</strong> retransmite para:
                        <br>
                        {{ r.receptores | join(' / ') }}
                    </div>
                {% elif r.tipo == 'receptor' %}
                    <div class="alert alert-success">
                        <strong>{{ consulta }}</strong> recebe retransmissÃ£o de:
                        <br>
                        {{ r.retransmissor }}
                    </div>
                {% elif r.tipo == 'parcial' %}
                    <div class="alert alert-secondary text-start">
                        <strong>{{ r.retransmissor }}</strong><br>
                        Receptores: {{ r.receptores | join(' / ') }}
                    </div>
                {% endif %}
            {% endfor %}
        {% elif consulta %}
            <div class="alert alert-danger">Nenhum resultado encontrado.</div>
        {% endif %}
    </div>
</body>
</html>
